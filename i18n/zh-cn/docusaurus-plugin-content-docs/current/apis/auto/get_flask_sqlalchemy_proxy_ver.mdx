---
id: get_flask_sqlalchemy_proxy_ver
title: get_flask_sqlalchemy_proxy_ver
sidebar_label: get_flask_sqlalchemy_proxy_ver
slug: /apis/auto/get_flask_sqlalchemy_proxy_ver
description: get_flask_sqlalchemy注解为代理的版本。
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

import vsiCheckIcon from "@iconify-icons/codicon/check";

import InlineIcon from "@site/src/components/InlineIcon";
import APITopBar, {IconObjType} from "@site/src/components/APITopBar";

<APITopBar type="func" source="auto.get_flask_sqlalchemy_proxy_ver" />

```python
db: SQLAlchemyProxy[
    flask_sqlalchemy_lite.SQLAlchemy, _ModelLite
] = get_flask_sqlalchemy_proxy_ver[_ModelLite](
    model_class: type[_ModelLite],
    app: Flask | None = None,
    engine_options: Mapping[str, Any] | None = None,
    session_options: Mapping[str, Any] | None = None,
)
```

[`get_flask_sqlalchemy`](./get_flask_sqlalchemy.mdx)注解为代理的版本。

该函数的用法和返回值都和`get_flask_sqlalchemy`全然相同。然而，该用法的第一个返回值会被刻意注解为[`SQLAlchemyProxy`](../flask_sa_api/SQLAlchemyProxy.mdx)。这是为了帮助开发者了解兼容状态下的版本支持哪些功能。

## 别名 {#aliases}

该函数可以按以下方式之一获取

```python
import flask_sqlalchemy_compat as fsc


fsc.get_flask_sqlalchemy_proxy_ver
fsc.auto.get_flask_sqlalchemy_proxy_ver
```

## 参数 {#arguments}

### 输入 {#requires}

|       参数        |            类型             |               必选                | <center>说明</center>                                                                                                                                                                                                                                                                                        |
| :---------------: | :-------------------------: | :-------------------------------: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|   `model_class`   |     `type[_ModelLite]`      | <InlineIcon icon={vsiCheckIcon}/> | 应用到整个数据库的基础 ORM 模型类型。若`flask_sqlalchemy`可用，该类型将会作为`model_class`传递给数据库扩展实例的构造函数，并用来创建扩展实例所持有的基模型类。不过，若数据库对象退回到了`flask_sqlalchemy_lite`提供的版本，该类型将会受到原处修改，以便其能支持`flask_sqlalchemy.SQLAlchemy().Model`的特性。 |
|       `app`       |       `Flask \| None`       |                                   | 向该 Flask 应用调用`init_app`方法。若未指定该值，则不会调用`init_app`。                                                                                                                                                                                                                                      |
| `engine_options`  | `Mapping[str, Any] \| None` |                                   | 该配置将会在创建每个引擎时，传递给构造函数`sqlalchemy.create_engine`。                                                                                                                                                                                                                                       |
| `session_options` | `Mapping[str, Any] \| None` |                                   | 用来配置`sessionmaker`的参数。                                                                                                                                                                                                                                                                               |

- 其中，`_ModelLite`是`sa.orm.DeclarativeBase`的`TypeVar`。

### 输出 {#returns}

| 参数 |                                                         类型                                                          | <center>说明</center>                                                                                                                                                                                                            |
| :--: | :-------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `db` | <code>[SQLAlchemyProxy](../flask_sa_api/SQLAlchemyProxy.mdx){`[flask_sqlalchemy_lite.SQLAlchemy, _ModelLite]`}</code> | <p>SQLAlchemy扩展实例。在运行时，它与[`get_flask_sqlalchemy`](./get_flask_sqlalchemy.mdx)的返回值全然相同。</p><p>然而，该返回值永远被注解为`SQLAlchemyProxy`，这是为了提供`flask_sqlalchemy`缺位时、兼容版实例的静态注解。</p> |
