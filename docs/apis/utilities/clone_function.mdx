---
id: clone_function
title: clone_function
sidebar_label: clone_function
slug: /apis/utilities/clone_function
description: A decorator for modifying the static type hint of a function by cloning the signature of another function.
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

import vsiCheckIcon from "@iconify-icons/codicon/check";

import InlineIcon from "@site/src/components/InlineIcon";
import APITopBar, {IconObjType} from "@site/src/components/APITopBar";

<APITopBar
  type="func"
  isPrivate={true}
  isDecorator={true}
  source="utilities.clone_function"
/>

```python
decorator: Callable[
  [Callable[P, T]],
  Callable[P, T]
] = clone_function[**P, T](
    func_o: Callable[P, Any],
)

@clone_function(func_o)
def func(val1, val2, ...): ...
```

A decorator for modifying the static type hint of a function by cloning the
signature of another function.

This decorator should be only used for cloning the regular functions. It is not
suitable for methods.

:::note

Note that this decorator will not modify the the returned value of the decorated
function in the signature.

:::

:::note

Note that this decorator will not change the run time behavior of the decorated
method.

:::

## Arguments

### Requires

| Argument |     Type     |             Required              | <center>Description</center>                                                                                                                                                                    |
| :------: | :----------: | :-------------------------------: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `func_o` | `(**P) -> Any` | <InlineIcon icon={vsiCheckIcon}/> | <p>The original function providing the signature to be cloned.</p> |

### Returns

|  Argument   |                       Type                       | <center>Description</center>                                                                                                                                                                                                                                       |
| :---------: | :----------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `decorator` | `((**P) -> T) -> ((**P) -> T)` | <p>A wrapper that forward a function as it is directly but the signature of the function will be consistent with the argument `method`.</p><p>The input signature will be copied from `method`. But the output value will be determined by the wrapped method.</p> |

## Examples

### <IconObjType type="term"/> Clone the signature of a function to another function

<Tabs
  defaultValue="codes"
  values={[
    { label: 'Codes', value: 'codes', },
    { label: 'Results', value: 'results', },
  ]
}>

<TabItem value="codes">

```python title="clone_signature_to_function.py" showLineNumbers
from typing import reveal_type
import inspect
import flask_sqlalchemy_compat as fsc


def test_func(val1: int, val2: str) -> float: ...


@fsc.utilities.clone_function(test_func)
def modified_func(*args, **kwargs) -> str:
    return "not a float!"


if __name__ == "__main__":
    reveal_type(modified_func)
    print(inspect.signature(modified_func))
    print(modified_func(1, "2"))
```

</TabItem>

<TabItem value="results">

```python
Runtime type is 'function'
(val1: int, val2: str) -> str
not a float!
```

</TabItem>

</Tabs>
