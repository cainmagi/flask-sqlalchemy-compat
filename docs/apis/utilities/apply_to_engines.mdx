---
id: apply_to_engines
title: apply_to_engines
sidebar_label: apply_to_engines
slug: /apis/utilities/apply_to_engines
description: Add hooks to the given Model class.
---

import vsiCheckIcon from "@iconify-icons/codicon/check";

import InlineIcon from "@site/src/components/InlineIcon";
import APITopBar, {IconObjType} from "@site/src/components/APITopBar";

<APITopBar type="func" isPrivate={true} source="utilities.apply_to_engines" />

```python
apply_to_engines(
    func: Callable[[sa.engine.Engine], None],
    bind_key: str | None | Sequence[str | None],
    engines: Mapping[str, sa.engine.Engine],
    default_engine: sa.engine.Engine,
)
```

Apply a function to one or multiple engines.

The given `func` is a function designed to be applied to a single engine. This
method defines the logics of how to apply `func` to multiple engines.

## Arguments

### Requires

|     Argument     |                  Type                  |             Required              | <center>Description</center>                                                                                         |
| :--------------: | :------------------------------------: | :-------------------------------: | -------------------------------------------------------------------------------------------------------------------- |
|      `func`      |      `(sa.engine.Engine) -> None`      | <InlineIcon icon={vsiCheckIcon}/> | The class to be hooked.                                                                                              |
|    `bind_key`    | `str \| None \| Sequence[str \| None]` | <InlineIcon icon={vsiCheckIcon}/> | The name(s) of the engines where the `func` will be applied to.                                                      |
|    `engines`     |    `Mapping[str, sa.engine.Engine]`    | <InlineIcon icon={vsiCheckIcon}/> | The collection of all registered engines. If `bind_key` is `__all__`, will apply `func` to all engines in this list. |
| `default_engine` |           `sa.engine.Engine`           | <InlineIcon icon={vsiCheckIcon}/> | The default engine. It should be the same as `engines["default"]`.                                                   |
